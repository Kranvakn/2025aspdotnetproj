@model todoApp.Models.User
@{
    ViewBag.Title = "TODO APP - 회원가입";
    Layout = null;
}

@if (null != ViewBag.RegisterSuccess && (bool)ViewBag.RegisterSuccess)
{
    <script>
        window.onload = () => {
            const overlay = document.createElement("div");
            overlay.className = "overlay";

            const dialog = document.createElement("div");
            dialog.className = "messageBox";
            dialog.innerHTML = `
                    <h2>회원가입 성공</h2>
                    <p>회원가입에 성공하셨습니다. 로그인 페이지로 이동합니다.</p>
                    <button onclick="window.location.href='/Account/Login'" class="login-btn">로그인</button>
                    `;

            overlay.appendChild(dialog);
            document.body.appendChild(overlay);
        }
    </script>
}


<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>회원가입</title>
    <!-- 스타일 -->
    <link rel="stylesheet" href="~/css/signin.css" />
</head>

<body>
    <div class="login-container">
        <h2>
            <svg width="100" height="100" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M3.3825 1.29567C3.46241 1.11432 3.64188 0.997284 3.84005 0.997284H11.5C11.7761 0.997284 12 1.22114 12 1.49728V5.5C12 5.77614 11.7761 6 11.5 6H8.63521L11.5288 9.16247C11.6626 9.3087 11.6974 9.52015 11.6175 9.70154C11.5376 9.88293 11.3582 10 11.16 10H8V13.5C8 13.7022 7.87818 13.8845 7.69134 13.9619C7.5045 14.0393 7.28945 13.9966 7.14645 13.8536L3.14645 9.85355C3.05268 9.75979 3 9.63261 3 9.5V5.5C3 5.22386 3.22386 5 3.5 5H6.36531L3.47105 1.83468C3.33732 1.68844 3.30259 1.47701 3.3825 1.29567ZM7.72032 5L4.97474 1.99728H11V5H7.72032ZM7.27978 6H4V9H7.5H10.0247L7.27978 6ZM4.70711 10L7 12.2929V10H4.70711Z"
                    fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path>
            </svg>
        </h2>
        <h2>회원가입</h2>

        @if (ViewBag.Error != null)
        {
            <p style="color: red">@ViewBag.Error</p>
        }

        <form class="login-form" method="post" asp-controller="Account" asp-action="Register">
            <div class="input-group">
                <span class="icon">
                    <!-- 이메일 -->
                    <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M1 2C0.447715 2 0 2.44772 0 3V12C0 12.5523 0.447715 13 1 13H14C14.5523 13 15 12.5523 15 12V3C15 2.44772 14.5523 2 14 2H1ZM1 3L14 3V3.92494C13.9174 3.92486 13.8338 3.94751 13.7589 3.99505L7.5 7.96703L1.24112 3.99505C1.16621 3.94751 1.0826 3.92486 1 3.92494V3ZM1 4.90797V12H14V4.90797L7.74112 8.87995C7.59394 8.97335 7.40606 8.97335 7.25888 8.87995L1 4.90797Z"
                            fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path>
                    </svg>
                </span>
                <input type="email" asp-for="Email" placeholder="이메일 주소" required />
            </div>

            <div class="input-group">
                <span class="icon">
                    <!-- 패스워드 -->
                    <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z"
                            fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path>
                    </svg>
                </span>
                <input type="password" asp-for="PasswordHash" placeholder="패스워드" required />
            </div>

            <div class="input-g`oup">
                <span class="icon">
                    <!-- 패스워드 확인 -->
                    <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z"
                            fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path>
                    </svg>
                </span>
                <input type="password" placeholder="패스워드 확인" required />
            </div>

            <button type="submit" class="login-btn">회원가입</button>

            <div class="extra-options center">
                <a href="/Account/Login">이미 계정이 있으신가요?</a>
            </div>
        </form>
    </div>

</body>

</html>